// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}


model User {
  // Unique identifier for the user
  id            String         @id @unique @default(uuid())
//  Fist name of the user
  firstName     String
// Last name of the user
  lastName      String
  // Unique email address of the user
  email         String         @unique
  // Password of the user
  password      String
//  verify email address of the user
  emailVerified Boolean        @default(false)
  // Array of refresh tokens associated with the user
  refreshTokens RefreshToken[]
  // Timestamp for when the user was created
  createdAt     DateTime       @default(now())
  // Timestamp for when the user was last updated
  updatedAt     DateTime       @updatedAt
}

model RefreshToken {
  // Unique identifier for the refresh token
  id          String   @id @unique @default(uuid())
  // Hashed value of the refresh token
  hashedToken String
  // Foreign key referencing the associated user
  userId      String
  // Relationship field pointing to the associated user
  User        User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  // Flag indicating if the token has been revoked
  revoked     Boolean  @default(false)
  // Timestamp for when the refresh token was created
  createdAt   DateTime @default(now())
  // Timestamp for when the refresh token was last updated
  updatedAt   DateTime @updatedAt
}
